{% extends 'store/base.html' %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-md p-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-6">Publish Your App</h1>
    <p class="text-gray-600 mb-8">Share your creation with the world. Fill in the details below to add your product to
        the ZPOCO Store.</p>

    <form method="post" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}

        <!-- Title -->
        <div>
            <label for="{{ form.title.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">App
                Name</label>
            {{ form.title }}
            {% if form.title.errors %}
            <p class="text-red-500 text-sm mt-1">{{ form.title.errors.0 }}</p>
            {% endif %}
        </div>

        <!-- Description -->
        <div>
            <label for="{{ form.description.id_for_label }}"
                class="block text-sm font-medium text-gray-700 mb-1">Description</label>
            {{ form.description }}
            <p class="text-sm text-gray-500 mt-1">Describe what makes your app great.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Category -->
            <div>
                <label for="{{ form.category.id_for_label }}"
                    class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                {{ form.category }}
            </div>

            <!-- Price -->
            <div>
                <label for="{{ form.price.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Price
                    ($)</label>
                {{ form.price }}
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Version -->
            <div>
                <label for="{{ form.version.id_for_label }}"
                    class="block text-sm font-medium text-gray-700 mb-1">Version</label>
                {{ form.version }}
            </div>

            <!-- Size -->
            <div>
                <label for="{{ form.size.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Size
                    (e.g. 15MB)</label>
                {{ form.size }}
            </div>
        </div>

        <!-- Custom Action -->
        <div class="p-6 bg-blue-50 rounded-xl border border-blue-200">
            <h3 class="text-lg font-medium text-blue-900 mb-4">Button Settings</h3>
            <p class="text-sm text-blue-700 mb-4">Customize the action button for this product. If left empty, "Buy Now"
                logic applies.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="{{ form.external_link.id_for_label }}"
                        class="block text-sm font-medium text-gray-700 mb-2">External Link (Optional)</label>
                    {{ form.external_link }}
                    <p class="text-xs text-gray-500 mt-1">Direct users to this URL instead of the payment flow.</p>
                </div>
                <div>
                    <label for="{{ form.button_text.id_for_label }}"
                        class="block text-sm font-medium text-gray-700 mb-2">Button Text</label>
                    {{ form.button_text }}
                    <p class="text-xs text-gray-500 mt-1">Default: "Click Here"</p>
                </div>
            </div>
        </div>

        <!-- Files -->
        <div class="p-6 bg-gray-50 rounded-xl border border-dashed border-gray-300">
            <h3 class="text-lg font-medium text-gray-900 mb-4">Assets</h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="{{ form.image.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">Icon
                        / Thumbnail</label>
                    {{ form.image }}
                </div>
                <div>
                    <label for="{{ form.file.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">App
                        File / Build</label>
                    {{ form.file }}
                </div>
            </div>
        </div>

        <div class="flex justify-end pt-4">
            <button type="submit"
                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:-translate-y-0.5">
                Publish App
            </button>
        </div>
    </form>
</div>
{% endblock %}